<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Hábitos</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <style>
        :root {
            --bg: #121212; /* Fondo oscuro profundo */
            --card: #1e1e1e;
            --txt: #e0e0e0;
            --accent: #81c784; /* Verde suave */
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            background: var(--bg); color: var(--txt); 
            margin: 0; padding: 20px; display: flex; flex-direction: column; height: 100vh;
        }
        h2 { font-weight: 300; letter-spacing: 1px; color: var(--accent); }
        #listaHabitos { flex-grow: 1; overflow-y: auto; }
        
        .habito { 
            background: var(--card); display: flex; justify-content: space-between; 
            align-items: center; padding: 18px; margin-bottom: 12px; 
            border-radius: 12px; border: 1px solid #333; transition: 0.2s;
        }
        .completado { border-color: var(--accent); opacity: 0.5; }
        .completado span { color: var(--accent); }

        .input-area { display: flex; gap: 10px; margin-top: 10px; }
        input { 
            flex-grow: 1; background: #2c2c2c; border: none; border-radius: 8px; 
            padding: 15px; color: white; font-size: 16px;
        }
        button { 
            background: var(--accent); color: #121212; border: none; 
            padding: 0 20px; border-radius: 8px; font-weight: bold; font-size: 20px;
        }
    </style>
</head>
<body>

    <h2>Mis Hábitos</h2>
    <div id="listaHabitos"></div>

    <div class="input-area">
        <input type="text" id="nuevoHabito" placeholder="Ej: Beber agua" autocomplete="off">
        <button onclick="agregarHabito()">+</button>
    </div>

    <script>
        let habitos = JSON.parse(localStorage.getItem('habitos_v2')) || [];

        function render() {
            const contenedor = document.getElementById('listaHabitos');
            contenedor.innerHTML = '';
            habitos.forEach((h, i) => {
                contenedor.innerHTML += `
                    <div class="habito ${h.check ? 'completado' : ''}" onclick="toggle(${i})">
                        <span>${h.nombre}</span>
                        <small>${h.check ? '✅' : '⚪'}</small>
                    </div>`;
            });
            localStorage.setItem('habitos_v2', JSON.stringify(habitos));
        }

        function agregarHabito() {
            const input = document.getElementById('nuevoHabito');
            if(input.value.trim()) {
                habitos.push({nombre: input.value, check: false});
                input.value = '';
                render();
            }
        }

        function toggle(i) {
            habitos[i].check = !habitos[i].check;
            render();
        }

        render();
    </script>
</body>
</html>